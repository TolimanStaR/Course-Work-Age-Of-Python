{% extends 'contest/contest_participant_frame.html' %}

{% block title %}{{ task.title }}{% endblock %}

{% block contest_content %}
    <div>
        <h1>{{ task.title }}</h1>
        <table class="table" style="width: 50%">
            <tr>
                <td>Ограничение по времени</td>
                <td>{{ task.time_limit_seconds }} сек.</td>
            </tr>
            <tr>
                <td>Ограничение по памяти</td>
                <td>512 мегабайт</td>
            </tr>
            <tr>
                <td>Ввод / вывод</td>
                <td>стандартный поток</td>
            </tr>
        </table>
        <br>
        <p>{{ task.task_description|linebreaks|safe }}</p>
        <h4>Входные данные</h4>
        <p>{{ task.input_description|linebreaks|safe }}</p>
        <h4>Выходные данные</h4>
        <p>{{ task.output_description|linebreaks|safe }}</p>

        <table class="table" style="width: 50%">
            <thead class="table-secondary">
            <tr>
                <th>
                    <a onclick="copyToClipboard('#input')" style="text-decoration: none">Пример входных данных <i class="bi bi-clipboard"></i></a>
                </th>
                <th><a onclick="copyToClipboard('#output')" style="text-decoration: none">Пример вывода <i class="bi bi-clipboard"></i></a></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td id="input">{{ task.input_example|linebreaks }}</td>
                <td id="output">{{ task.output_example|linebreaksbr }}</td>
            </tr>
            </tbody>
        </table>
        <script type="text/javascript">
            function copyToClipboard(element) {
                var tmp = document.createElement("textarea");
                tmp.value = $(element).html().replaceAll('<br>', '\n');
                tmp.style.height = "0";
                tmp.style.overflow = "hidden";
                tmp.style.position = "fixed";
                document.body.appendChild(tmp);
                tmp.focus();
                tmp.select();
                document.execCommand("copy");
                document.body.removeChild(tmp);
            }
        </script>
    </div>
{% endblock %}